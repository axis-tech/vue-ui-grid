(function(T,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(T=typeof globalThis!="undefined"?globalThis:T||self,e(T.VueGrid={},T.Vue))})(this,function(T,e){"use strict";var Ir=Object.defineProperty,wr=Object.defineProperties;var Ar=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Lr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable;var $e=(T,e,A)=>e in T?Ir(T,e,{enumerable:!0,configurable:!0,writable:!0,value:A}):T[e]=A,F=(T,e)=>{for(var A in e||(e={}))Lr.call(e,A)&&$e(T,A,e[A]);if(ve)for(var A of ve(e))_r.call(e,A)&&$e(T,A,e[A]);return T},me=(T,e)=>wr(T,Ar(e));var J=(T,e,A)=>($e(T,typeof e!="symbol"?e+"":e,A),A);function A(t){return t&&(t.charAt(0).toUpperCase()+t.slice(1)).replace(/_/," ")}function et(t,o){const n=t.currentRoute,l=n.value.name,r=()=>{const c={},m=n.value.query||{};m.time?c.time=m.time:c.time=new Date().getTime(),m.s&&(c.searchKeyword=m.s),m.page&&(c.currentPage=parseInt(m.page,10)),m.limit&&(c.limit=parseInt(m.limit,10)),m.order&&(c.order={by:m.order,type:m.order_type||"desc"});const h={};return o.searchField&&m[o.searchField]&&(h[o.searchField]=m[o.searchField]),Object.keys(m).forEach(C=>{const y=o.columns.find(B=>B.field===C);y&&y.filter&&(h[C]=m[C])}),c.where=h,c},a=c=>{const{currentRoute:m}=t;if(m.value.name!==l)return;const h=F(F({},n.value.query),c);t.replace({query:h})},s=r();return{queryGridState:e.computed(()=>{const{currentRoute:c}=t,{query:m}=c.value;return m&&m.time?m.time:null}),routeGridParams:s,updateRouteIfNeeded:a}}function R(t,o,n,l){const r=e.inject("$vgrid",{debug:!1,routerKey:null,perPage:10,pageSizes:[5,10,20,50,100],hasSortType:!0});let a={},s=V=>({}),f=e.computed(()=>({}));if(t.routeState&&r.routerKey){const V=e.inject(r.routerKey),D=et(V,t);a=D.routeGridParams,s=D.updateRouteIfNeeded,f=D.queryGridState}const c=e.computed(()=>t.columns.some(V=>V.filter)),m=e.computed(()=>t.columns.some(V=>V.order)),h=e.computed(()=>[`vgrid-col-md-${t.colMd}`,`vgrid-col-lg-${t.colLg}`,`vgrid-col-xl-${t.colXl}`]),C={records:[],total:0},y=e.reactive(C),B="",g=e.reactive(F({isLoading:!1,searchKeyword:"",currentPage:0,limit:t.perPage?t.perPage:r.perPage,pageSizes:r.pageSizes,order:{by:t.sortBy,type:t.sortType},where:{},hasSortType:r.hasSortType,time:new Date().getTime(),query:B},a)),d=e.computed(()=>{let V={s:g.searchKeyword,page:g.currentPage,limit:g.limit};t.orderable&&(V.order=g.order.by,V.order_type=g.order.type);const D=Object.keys(g.where).reduce((X,v)=>me(F({},X),{[v]:g.where[v]}),{});return V=me(F(F({},V),D),{time:g.time}),V}),k=e.computed(()=>y.records.length>0),$=e.ref([]),x=V=>{const D=V.type||"text",{field:X}=V,v=[`vgrid-column-type--${D}`,`vgrid-column-data--${X}`];return V.width&&v.push(`vgrid-field--${V.width}`),V.class&&v.push(V.class),v},L=e.computed(()=>!y.records.length),N=e.computed(()=>t.columns.filter(V=>$.value.includes(V.field)).sort((V,D)=>$.value.indexOf(V.field)-$.value.indexOf(D.field)).map(V=>me(F({},V),{headerClasses:x(V),orderClasses:Fr(V),columnClasses:E(V),showedLabel:A(V.label||V.field)}))),u=e.computed(()=>[`vgrid-${l.displayType}`,`vgrid-${l.dataType}`]),i=()=>{$.value=t.columns.filter(V=>V.type!=="hidden").filter(V=>!V.hidden).map(V=>V.field)},E=V=>V.order!==!1&&V.type!=="custom"&&V.field===g.order.by?"ordering":"",S=e.computed(()=>{let V=!1;return Object.keys(g.where).forEach(D=>{V=V||!!g.where[D]}),V}),w=()=>{if(r.debug&&console.log("vgrid - start get data ",g.searchKeyword),!n){console.log("vgrid - Your grid is not config any data provider");return}g.isLoading=!0,n.getData(g.currentPage,g.limit,g.searchKeyword,g.where,g.order).then(({items:V,total:D,query:X})=>{y.records=V,y.total=D,g.query=X}).catch(V=>{V&&(g.query=V.query),console.log("vgrid error",V)}).then(()=>{setTimeout(()=>{g.isLoading=!1,o("data-changed",y.records)},250)})},xr=V=>{const D=t.columns.find(X=>X.field===V);D&&D.order&&D.type!=="custom"&&(g.order.by===V?g.hasSortType&&(g.order.type=g.order.type==="desc"?"asc":"desc"):(g.order.by=V,g.order.type="desc"))},Fr=V=>{const D=[];return V.order&&V.type!=="custom"&&(D.push("orderable"),V.field===g.order.by&&D.push(`${g.order.type}`)),D},Or=()=>{g.currentPage=0},Ze=()=>{g.currentPage=0,g.limit=t.perPage?t.perPage:r.perPage,g.searchKeyword="",g.order={by:t.sortBy,type:t.sortType},g.time=new Date().getTime(),g.where={}};return e.watch(()=>t.columns,()=>{$.value=t.columns.filter(V=>V.type!=="hidden").filter(V=>!V.hidden).map(V=>V.field)}),e.watch([()=>g.where,()=>g.searchKeyword,()=>g.limit],()=>{console.log("reset page index"),Or()},{deep:!0}),e.watch(()=>d.value,V=>{console.log("reset page index"),w(),s(V)},{deep:!0}),e.watch(()=>f.value,(V,D)=>{D&&!V&&Ze()}),{hasColumnFilter:c,hasColumnOrder:m,cardColumnClasses:h,dataState:y,hasRecord:k,columnVisibility:$,isEmptyData:L,visibleCols:N,gridClasses:u,setColumnVisibility:i,gridState:g,isFiltered:S,getData:w,setOrder:xr,resetGrid:Ze}}class fe{constructor(o){J(this,"options");this.options=o}getData(o,n,l,r,a){return new Promise((s,f)=>{s({items:[],total:0})})}applySearch(o){return this}applyFilter(o){return this}applyOrder(o){return this}applyPagination(o){return this}}class tt extends fe{constructor(n,l){super(l);J(this,"data");this.data=n}updateData(n){this.data=n}getData(n,l,r,a,s){return new Promise(f=>{let c=[...this.data];c=this.getSearchedData(c,r),c=this.getFilteredData(c,a),c=this.getSortedData(c,s);const m=c.length;let h=c;this.options.pagination&&c.length>l&&(h=c.slice(l*n,l*(n+1))),f({items:h,total:m,query:{page:n,limit:l,searchKeyword:r,filter:a,order:s}})})}getSearchedData(n,l){let r=n.filter(a=>a);if(l){const a=new RegExp(l,"gi");r=r.filter(s=>{let f=!1;return this.options.columns.forEach(c=>{a.test(`${s[c.field]}`)&&(f=!0)}),f})}return r}getFilteredData(n,l){let r=n;return l&&Object.keys(l).map(a=>{const s=new RegExp(l[a],"gi");r=r.filter(f=>s.test(f[a]))}),r}getSortedData(n,l){let r=n;if(l){const a=this.options.columns.find(s=>s.field===l.by);a&&(r=r.sort((s,f)=>{let c=f[a.field],m=s[a.field];return l.type==="desc"&&(c=s[a.field],m=f[a.field]),a.type==="number"?c-m:typeof c=="string"?c.localeCompare(m):0}))}return r}}class nt extends fe{constructor(n,l){super(l);J(this,"resource");J(this,"cancelRequest");this.resource=n,this.cancelRequest=null}getData(n,l,r,a,s){let f=n;this.options.getPageIndex&&(f=this.options.getPageIndex(n));const c={};if(this.options.pageKey&&(c[this.options.pageKey]=f),this.options.perPageKey&&(c[this.options.perPageKey]=l),this.options.orderable&&s&&this.options.sortKey&&s.by&&(c[this.options.sortKey]=s.by,this.options.sortTypeKey&&s.type&&(c[this.options.sortTypeKey]=s.type)),this.options.searchable&&this.options.searchField&&r&&(c[this.options.searchField]=r),a){const h=F({},a);Object.keys(h).forEach(C=>{c[C]=h[C]})}if(!this.options.fetchData)return Promise.reject(new Error("no fetch data option"));let m=null;if(this.options.cancelToken){this.cancelRequest&&this.cancelRequest("Operation canceled due to new request.");const h=this.options.cancelToken;m=new h(C=>{this.cancelRequest=C})}return this.options.fetchData(this.resource,{params:c,cancelToken:m}).then(h=>{let C=[],y=0;if(this.options.extractData){const B=this.options.extractData(h);C=B.items,y=B.total}return{items:C,total:y,query:c}}).finally(()=>{this.cancelRequest=null})}}var oe=function(){return oe=Object.assign||function(o){for(var n,l=1,r=arguments.length;l<r;l++){n=arguments[l];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},oe.apply(this,arguments)};function ue(t,o){if(!Boolean(t))throw new Error(o)}function ot(t){return typeof t=="object"&&t!==null}function lt(t,o){if(!Boolean(t))throw new Error(o!=null?o:"Unexpected invariant triggered.")}const rt=/\r\n|[\n\r]/g;function pe(t,o){let n=0,l=1;for(const r of t.body.matchAll(rt)){if(typeof r.index=="number"||lt(!1),r.index>=o)break;n=r.index+r[0].length,l+=1}return{line:l,column:o+1-n}}function at(t){return Te(t.source,pe(t.source,t.start))}function Te(t,o){const n=t.locationOffset.column-1,l="".padStart(n)+t.body,r=o.line-1,a=t.locationOffset.line-1,s=o.line+a,f=o.line===1?n:0,c=o.column+f,m=`${t.name}:${s}:${c}
`,h=l.split(/\r\n|[\n\r]/g),C=h[r];if(C.length>120){const y=Math.floor(c/80),B=c%80,g=[];for(let d=0;d<C.length;d+=80)g.push(C.slice(d,d+80));return m+De([[`${s} |`,g[0]],...g.slice(1,y+1).map(d=>["|",d]),["|","^".padStart(B)],["|",g[y+1]]])}return m+De([[`${s-1} |`,h[r-1]],[`${s} |`,C],["|","^".padStart(c)],[`${s+1} |`,h[r+1]]])}function De(t){const o=t.filter(([l,r])=>r!==void 0),n=Math.max(...o.map(([l])=>l.length));return o.map(([l,r])=>l.padStart(n)+(r?" "+r:"")).join(`
`)}function st(t){const o=t[0];return o==null||"kind"in o||"length"in o?{nodes:o,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:o}class he extends Error{constructor(o,...n){var l,r,a;const{nodes:s,source:f,positions:c,path:m,originalError:h,extensions:C}=st(n);super(o),this.name="GraphQLError",this.path=m!=null?m:void 0,this.originalError=h!=null?h:void 0,this.nodes=xe(Array.isArray(s)?s:s?[s]:void 0);const y=xe((l=this.nodes)===null||l===void 0?void 0:l.map(g=>g.loc).filter(g=>g!=null));this.source=f!=null?f:y==null||(r=y[0])===null||r===void 0?void 0:r.source,this.positions=c!=null?c:y==null?void 0:y.map(g=>g.start),this.locations=c&&f?c.map(g=>pe(f,g)):y==null?void 0:y.map(g=>pe(g.source,g.start));const B=ot(h==null?void 0:h.extensions)?h==null?void 0:h.extensions:void 0;this.extensions=(a=C!=null?C:B)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),h!=null&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,he):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let o=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(o+=`

`+at(n.loc));else if(this.source&&this.locations)for(const n of this.locations)o+=`

`+Te(this.source,n);return o}toJSON(){const o={message:this.message};return this.locations!=null&&(o.locations=this.locations),this.path!=null&&(o.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(o.extensions=this.extensions),o}}function xe(t){return t===void 0||t.length===0?void 0:t}function I(t,o,n){return new he(`Syntax Error: ${n}`,{source:t,positions:[o]})}class it{constructor(o,n,l){this.start=o.start,this.end=n.end,this.startToken=o,this.endToken=n,this.source=l}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Fe{constructor(o,n,l,r,a,s){this.kind=o,this.start=n,this.end=l,this.line=r,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let H;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(H||(H={}));let ge;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ge||(ge={}));let b;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(b||(b={}));function ct(t){return t===9||t===32}function ee(t){return t>=48&&t<=57}function Oe(t){return t>=97&&t<=122||t>=65&&t<=90}function Ie(t){return Oe(t)||t===95}function dt(t){return Oe(t)||ee(t)||t===95}function mt(t){var o;let n=Number.MAX_SAFE_INTEGER,l=null,r=-1;for(let s=0;s<t.length;++s){var a;const f=t[s],c=ft(f);c!==f.length&&(l=(a=l)!==null&&a!==void 0?a:s,r=s,s!==0&&c<n&&(n=c))}return t.map((s,f)=>f===0?s:s.slice(n)).slice((o=l)!==null&&o!==void 0?o:0,r+1)}function ft(t){let o=0;for(;o<t.length&&ct(t.charCodeAt(o));)++o;return o}let p;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(p||(p={}));class ut{constructor(o){const n=new Fe(p.SOF,0,0,0,0);this.source=o,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let o=this.token;if(o.kind!==p.EOF)do if(o.next)o=o.next;else{const n=ht(this,o.end);o.next=n,n.prev=o,o=n}while(o.kind===p.COMMENT);return o}}function pt(t){return t===p.BANG||t===p.DOLLAR||t===p.AMP||t===p.PAREN_L||t===p.PAREN_R||t===p.SPREAD||t===p.COLON||t===p.EQUALS||t===p.AT||t===p.BRACKET_L||t===p.BRACKET_R||t===p.BRACE_L||t===p.PIPE||t===p.BRACE_R}function W(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function le(t,o){return we(t.charCodeAt(o))&&Ae(t.charCodeAt(o+1))}function we(t){return t>=55296&&t<=56319}function Ae(t){return t>=56320&&t<=57343}function Y(t,o){const n=t.source.body.codePointAt(o);if(n===void 0)return p.EOF;if(n>=32&&n<=126){const l=String.fromCodePoint(n);return l==='"'?`'"'`:`"${l}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function O(t,o,n,l,r){const a=t.line,s=1+n-t.lineStart;return new Fe(o,n,l,a,s,r)}function ht(t,o){const n=t.source.body,l=n.length;let r=o;for(;r<l;){const a=n.charCodeAt(r);switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++t.line,t.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++t.line,t.lineStart=r;continue;case 35:return gt(t,r);case 33:return O(t,p.BANG,r,r+1);case 36:return O(t,p.DOLLAR,r,r+1);case 38:return O(t,p.AMP,r,r+1);case 40:return O(t,p.PAREN_L,r,r+1);case 41:return O(t,p.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return O(t,p.SPREAD,r,r+3);break;case 58:return O(t,p.COLON,r,r+1);case 61:return O(t,p.EQUALS,r,r+1);case 64:return O(t,p.AT,r,r+1);case 91:return O(t,p.BRACKET_L,r,r+1);case 93:return O(t,p.BRACKET_R,r,r+1);case 123:return O(t,p.BRACE_L,r,r+1);case 124:return O(t,p.PIPE,r,r+1);case 125:return O(t,p.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?Vt(t,r):kt(t,r)}if(ee(a)||a===45)return yt(t,r,a);if(Ie(a))return Ct(t,r);throw I(t.source,r,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:W(a)||le(n,r)?`Unexpected character: ${Y(t,r)}.`:`Invalid character: ${Y(t,r)}.`)}return O(t,p.EOF,l,l)}function gt(t,o){const n=t.source.body,l=n.length;let r=o+1;for(;r<l;){const a=n.charCodeAt(r);if(a===10||a===13)break;if(W(a))++r;else if(le(n,r))r+=2;else break}return O(t,p.COMMENT,o,r,n.slice(o+1,r))}function yt(t,o,n){const l=t.source.body;let r=o,a=n,s=!1;if(a===45&&(a=l.charCodeAt(++r)),a===48){if(a=l.charCodeAt(++r),ee(a))throw I(t.source,r,`Invalid number, unexpected digit after 0: ${Y(t,r)}.`)}else r=ye(t,r,a),a=l.charCodeAt(r);if(a===46&&(s=!0,a=l.charCodeAt(++r),r=ye(t,r,a),a=l.charCodeAt(r)),(a===69||a===101)&&(s=!0,a=l.charCodeAt(++r),(a===43||a===45)&&(a=l.charCodeAt(++r)),r=ye(t,r,a),a=l.charCodeAt(r)),a===46||Ie(a))throw I(t.source,r,`Invalid number, expected digit but got: ${Y(t,r)}.`);return O(t,s?p.FLOAT:p.INT,o,r,l.slice(o,r))}function ye(t,o,n){if(!ee(n))throw I(t.source,o,`Invalid number, expected digit but got: ${Y(t,o)}.`);const l=t.source.body;let r=o+1;for(;ee(l.charCodeAt(r));)++r;return r}function kt(t,o){const n=t.source.body,l=n.length;let r=o+1,a=r,s="";for(;r<l;){const f=n.charCodeAt(r);if(f===34)return s+=n.slice(a,r),O(t,p.STRING,o,r+1,s);if(f===92){s+=n.slice(a,r);const c=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?Et(t,r):Bt(t,r):Nt(t,r);s+=c.value,r+=c.size,a=r;continue}if(f===10||f===13)break;if(W(f))++r;else if(le(n,r))r+=2;else throw I(t.source,r,`Invalid character within String: ${Y(t,r)}.`)}throw I(t.source,r,"Unterminated string.")}function Et(t,o){const n=t.source.body;let l=0,r=3;for(;r<12;){const a=n.charCodeAt(o+r++);if(a===125){if(r<5||!W(l))break;return{value:String.fromCodePoint(l),size:r}}if(l=l<<4|te(a),l<0)break}throw I(t.source,o,`Invalid Unicode escape sequence: "${n.slice(o,o+r)}".`)}function Bt(t,o){const n=t.source.body,l=Le(n,o+2);if(W(l))return{value:String.fromCodePoint(l),size:6};if(we(l)&&n.charCodeAt(o+6)===92&&n.charCodeAt(o+7)===117){const r=Le(n,o+8);if(Ae(r))return{value:String.fromCodePoint(l,r),size:12}}throw I(t.source,o,`Invalid Unicode escape sequence: "${n.slice(o,o+6)}".`)}function Le(t,o){return te(t.charCodeAt(o))<<12|te(t.charCodeAt(o+1))<<8|te(t.charCodeAt(o+2))<<4|te(t.charCodeAt(o+3))}function te(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Nt(t,o){const n=t.source.body;switch(n.charCodeAt(o+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw I(t.source,o,`Invalid character escape sequence: "${n.slice(o,o+2)}".`)}function Vt(t,o){const n=t.source.body,l=n.length;let r=t.lineStart,a=o+3,s=a,f="";const c=[];for(;a<l;){const m=n.charCodeAt(a);if(m===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){f+=n.slice(s,a),c.push(f);const h=O(t,p.BLOCK_STRING,o,a+3,mt(c).join(`
`));return t.line+=c.length-1,t.lineStart=r,h}if(m===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){f+=n.slice(s,a),s=a+1,a+=4;continue}if(m===10||m===13){f+=n.slice(s,a),c.push(f),m===13&&n.charCodeAt(a+1)===10?a+=2:++a,f="",s=a,r=a;continue}if(W(m))++a;else if(le(n,a))a+=2;else throw I(t.source,a,`Invalid character within String: ${Y(t,a)}.`)}throw I(t.source,a,"Unterminated string.")}function Ct(t,o){const n=t.source.body,l=n.length;let r=o+1;for(;r<l;){const a=n.charCodeAt(r);if(dt(a))++r;else break}return O(t,p.NAME,o,r,n.slice(o,r))}const bt=10,_e=2;function St(t){return re(t,[])}function re(t,o){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return $t(t,o);default:return String(t)}}function $t(t,o){if(t===null)return"null";if(o.includes(t))return"[Circular]";const n=[...o,t];if(Tt(t)){const l=t.toJSON();if(l!==t)return typeof l=="string"?l:re(l,n)}else if(Array.isArray(t))return xt(t,n);return Dt(t,n)}function Tt(t){return typeof t.toJSON=="function"}function Dt(t,o){const n=Object.entries(t);if(n.length===0)return"{}";if(o.length>_e)return"["+Ft(t)+"]";const l=n.map(([r,a])=>r+": "+re(a,o));return"{ "+l.join(", ")+" }"}function xt(t,o){if(t.length===0)return"[]";if(o.length>_e)return"[Array]";const n=Math.min(bt,t.length),l=t.length-n,r=[];for(let a=0;a<n;++a)r.push(re(t[a],o));return l===1?r.push("... 1 more item"):l>1&&r.push(`... ${l} more items`),"["+r.join(", ")+"]"}function Ft(t){const o=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(o==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return o}const Ot=function(o,n){return o instanceof n};class Pe{constructor(o,n="GraphQL request",l={line:1,column:1}){typeof o=="string"||ue(!1,`Body must be a string. Received: ${St(o)}.`),this.body=o,this.name=n,this.locationOffset=l,this.locationOffset.line>0||ue(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ue(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function It(t){return Ot(t,Pe)}function wt(t,o){return new At(t,o).parseDocument()}class At{constructor(o,n){const l=It(o)?o:new Pe(o);this._lexer=new ut(l),this._options=n}parseName(){const o=this.expectToken(p.NAME);return this.node(o,{kind:b.NAME,value:o.value})}parseDocument(){return this.node(this._lexer.token,{kind:b.DOCUMENT,definitions:this.many(p.SOF,this.parseDefinition,p.EOF)})}parseDefinition(){if(this.peek(p.BRACE_L))return this.parseOperationDefinition();const o=this.peekDescription(),n=o?this._lexer.lookahead():this._lexer.token;if(n.kind===p.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(o)throw I(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const o=this._lexer.token;if(this.peek(p.BRACE_L))return this.node(o,{kind:b.OPERATION_DEFINITION,operation:H.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let l;return this.peek(p.NAME)&&(l=this.parseName()),this.node(o,{kind:b.OPERATION_DEFINITION,operation:n,name:l,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const o=this.expectToken(p.NAME);switch(o.value){case"query":return H.QUERY;case"mutation":return H.MUTATION;case"subscription":return H.SUBSCRIPTION}throw this.unexpected(o)}parseVariableDefinitions(){return this.optionalMany(p.PAREN_L,this.parseVariableDefinition,p.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:b.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(p.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(p.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const o=this._lexer.token;return this.expectToken(p.DOLLAR),this.node(o,{kind:b.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:b.SELECTION_SET,selections:this.many(p.BRACE_L,this.parseSelection,p.BRACE_R)})}parseSelection(){return this.peek(p.SPREAD)?this.parseFragment():this.parseField()}parseField(){const o=this._lexer.token,n=this.parseName();let l,r;return this.expectOptionalToken(p.COLON)?(l=n,r=this.parseName()):r=n,this.node(o,{kind:b.FIELD,alias:l,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(p.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(o){const n=o?this.parseConstArgument:this.parseArgument;return this.optionalMany(p.PAREN_L,n,p.PAREN_R)}parseArgument(o=!1){const n=this._lexer.token,l=this.parseName();return this.expectToken(p.COLON),this.node(n,{kind:b.ARGUMENT,name:l,value:this.parseValueLiteral(o)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const o=this._lexer.token;this.expectToken(p.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(p.NAME)?this.node(o,{kind:b.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(o,{kind:b.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var o;const n=this._lexer.token;return this.expectKeyword("fragment"),((o=this._options)===null||o===void 0?void 0:o.allowLegacyFragmentVariables)===!0?this.node(n,{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(o){const n=this._lexer.token;switch(n.kind){case p.BRACKET_L:return this.parseList(o);case p.BRACE_L:return this.parseObject(o);case p.INT:return this._lexer.advance(),this.node(n,{kind:b.INT,value:n.value});case p.FLOAT:return this._lexer.advance(),this.node(n,{kind:b.FLOAT,value:n.value});case p.STRING:case p.BLOCK_STRING:return this.parseStringLiteral();case p.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:b.BOOLEAN,value:!0});case"false":return this.node(n,{kind:b.BOOLEAN,value:!1});case"null":return this.node(n,{kind:b.NULL});default:return this.node(n,{kind:b.ENUM,value:n.value})}case p.DOLLAR:if(o)if(this.expectToken(p.DOLLAR),this._lexer.token.kind===p.NAME){const l=this._lexer.token.value;throw I(this._lexer.source,n.start,`Unexpected variable "$${l}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const o=this._lexer.token;return this._lexer.advance(),this.node(o,{kind:b.STRING,value:o.value,block:o.kind===p.BLOCK_STRING})}parseList(o){const n=()=>this.parseValueLiteral(o);return this.node(this._lexer.token,{kind:b.LIST,values:this.any(p.BRACKET_L,n,p.BRACKET_R)})}parseObject(o){const n=()=>this.parseObjectField(o);return this.node(this._lexer.token,{kind:b.OBJECT,fields:this.any(p.BRACE_L,n,p.BRACE_R)})}parseObjectField(o){const n=this._lexer.token,l=this.parseName();return this.expectToken(p.COLON),this.node(n,{kind:b.OBJECT_FIELD,name:l,value:this.parseValueLiteral(o)})}parseDirectives(o){const n=[];for(;this.peek(p.AT);)n.push(this.parseDirective(o));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(o){const n=this._lexer.token;return this.expectToken(p.AT),this.node(n,{kind:b.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(o)})}parseTypeReference(){const o=this._lexer.token;let n;if(this.expectOptionalToken(p.BRACKET_L)){const l=this.parseTypeReference();this.expectToken(p.BRACKET_R),n=this.node(o,{kind:b.LIST_TYPE,type:l})}else n=this.parseNamedType();return this.expectOptionalToken(p.BANG)?this.node(o,{kind:b.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:b.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(p.STRING)||this.peek(p.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const l=this.parseConstDirectives(),r=this.many(p.BRACE_L,this.parseOperationTypeDefinition,p.BRACE_R);return this.node(o,{kind:b.SCHEMA_DEFINITION,description:n,directives:l,operationTypes:r})}parseOperationTypeDefinition(){const o=this._lexer.token,n=this.parseOperationType();this.expectToken(p.COLON);const l=this.parseNamedType();return this.node(o,{kind:b.OPERATION_TYPE_DEFINITION,operation:n,type:l})}parseScalarTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const l=this.parseName(),r=this.parseConstDirectives();return this.node(o,{kind:b.SCALAR_TYPE_DEFINITION,description:n,name:l,directives:r})}parseObjectTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const l=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(o,{kind:b.OBJECT_TYPE_DEFINITION,description:n,name:l,interfaces:r,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(p.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(p.BRACE_L,this.parseFieldDefinition,p.BRACE_R)}parseFieldDefinition(){const o=this._lexer.token,n=this.parseDescription(),l=this.parseName(),r=this.parseArgumentDefs();this.expectToken(p.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(o,{kind:b.FIELD_DEFINITION,description:n,name:l,arguments:r,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(p.PAREN_L,this.parseInputValueDef,p.PAREN_R)}parseInputValueDef(){const o=this._lexer.token,n=this.parseDescription(),l=this.parseName();this.expectToken(p.COLON);const r=this.parseTypeReference();let a;this.expectOptionalToken(p.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(o,{kind:b.INPUT_VALUE_DEFINITION,description:n,name:l,type:r,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const l=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(o,{kind:b.INTERFACE_TYPE_DEFINITION,description:n,name:l,interfaces:r,directives:a,fields:s})}parseUnionTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const l=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(o,{kind:b.UNION_TYPE_DEFINITION,description:n,name:l,directives:r,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(p.EQUALS)?this.delimitedMany(p.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const l=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(o,{kind:b.ENUM_TYPE_DEFINITION,description:n,name:l,directives:r,values:a})}parseEnumValuesDefinition(){return this.optionalMany(p.BRACE_L,this.parseEnumValueDefinition,p.BRACE_R)}parseEnumValueDefinition(){const o=this._lexer.token,n=this.parseDescription(),l=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(o,{kind:b.ENUM_VALUE_DEFINITION,description:n,name:l,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw I(this._lexer.source,this._lexer.token.start,`${ae(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const l=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(o,{kind:b.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:l,directives:r,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(p.BRACE_L,this.parseInputValueDef,p.BRACE_R)}parseTypeSystemExtension(){const o=this._lexer.lookahead();if(o.kind===p.NAME)switch(o.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(o)}parseSchemaExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),l=this.optionalMany(p.BRACE_L,this.parseOperationTypeDefinition,p.BRACE_R);if(n.length===0&&l.length===0)throw this.unexpected();return this.node(o,{kind:b.SCHEMA_EXTENSION,directives:n,operationTypes:l})}parseScalarTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),l=this.parseConstDirectives();if(l.length===0)throw this.unexpected();return this.node(o,{kind:b.SCALAR_TYPE_EXTENSION,name:n,directives:l})}parseObjectTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),l=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(l.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(o,{kind:b.OBJECT_TYPE_EXTENSION,name:n,interfaces:l,directives:r,fields:a})}parseInterfaceTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),l=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(l.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(o,{kind:b.INTERFACE_TYPE_EXTENSION,name:n,interfaces:l,directives:r,fields:a})}parseUnionTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),l=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(l.length===0&&r.length===0)throw this.unexpected();return this.node(o,{kind:b.UNION_TYPE_EXTENSION,name:n,directives:l,types:r})}parseEnumTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),l=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(l.length===0&&r.length===0)throw this.unexpected();return this.node(o,{kind:b.ENUM_TYPE_EXTENSION,name:n,directives:l,values:r})}parseInputObjectTypeExtension(){const o=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),l=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(l.length===0&&r.length===0)throw this.unexpected();return this.node(o,{kind:b.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:l,fields:r})}parseDirectiveDefinition(){const o=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(p.AT);const l=this.parseName(),r=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(o,{kind:b.DIRECTIVE_DEFINITION,description:n,name:l,arguments:r,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(p.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const o=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(ge,n.value))return n;throw this.unexpected(o)}node(o,n){var l;return((l=this._options)===null||l===void 0?void 0:l.noLocation)!==!0&&(n.loc=new it(o,this._lexer.lastToken,this._lexer.source)),n}peek(o){return this._lexer.token.kind===o}expectToken(o){const n=this._lexer.token;if(n.kind===o)return this._lexer.advance(),n;throw I(this._lexer.source,n.start,`Expected ${Re(o)}, found ${ae(n)}.`)}expectOptionalToken(o){return this._lexer.token.kind===o?(this._lexer.advance(),!0):!1}expectKeyword(o){const n=this._lexer.token;if(n.kind===p.NAME&&n.value===o)this._lexer.advance();else throw I(this._lexer.source,n.start,`Expected "${o}", found ${ae(n)}.`)}expectOptionalKeyword(o){const n=this._lexer.token;return n.kind===p.NAME&&n.value===o?(this._lexer.advance(),!0):!1}unexpected(o){const n=o!=null?o:this._lexer.token;return I(this._lexer.source,n.start,`Unexpected ${ae(n)}.`)}any(o,n,l){this.expectToken(o);const r=[];for(;!this.expectOptionalToken(l);)r.push(n.call(this));return r}optionalMany(o,n,l){if(this.expectOptionalToken(o)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(l));return r}return[]}many(o,n,l){this.expectToken(o);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(l));return r}delimitedMany(o,n){this.expectOptionalToken(o);const l=[];do l.push(n.call(this));while(this.expectOptionalToken(o));return l}}function ae(t){const o=t.value;return Re(t.kind)+(o!=null?` "${o}"`:"")}function Re(t){return pt(t)?`"${t}"`:t}var se=new Map,ke=new Map,Ue=!0,ie=!1;function Me(t){return t.replace(/[\s,]+/g," ").trim()}function Lt(t){return Me(t.source.body.substring(t.start,t.end))}function _t(t){var o=new Set,n=[];return t.definitions.forEach(function(l){if(l.kind==="FragmentDefinition"){var r=l.name.value,a=Lt(l.loc),s=ke.get(r);s&&!s.has(a)?Ue&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||ke.set(r,s=new Set),s.add(a),o.has(a)||(o.add(a),n.push(l))}else n.push(l)}),oe(oe({},t),{definitions:n})}function Pt(t){var o=new Set(t.definitions);o.forEach(function(l){l.loc&&delete l.loc,Object.keys(l).forEach(function(r){var a=l[r];a&&typeof a=="object"&&o.add(a)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function Rt(t){var o=Me(t);if(!se.has(o)){var n=wt(t,{experimentalFragmentVariables:ie,allowLegacyFragmentVariables:ie});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");se.set(o,Pt(_t(n)))}return se.get(o)}function Z(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var l=t[0];return o.forEach(function(r,a){r&&r.kind==="Document"?l+=r.loc.source.body:l+=r,l+=t[a+1]}),Rt(l)}function Ut(){se.clear(),ke.clear()}function Mt(){Ue=!1}function zt(){ie=!0}function jt(){ie=!1}var ne={gql:Z,resetCaches:Ut,disableFragmentWarnings:Mt,enableExperimentalFragmentVariables:zt,disableExperimentalFragmentVariables:jt};(function(t){t.gql=ne.gql,t.resetCaches=ne.resetCaches,t.disableFragmentWarnings=ne.disableFragmentWarnings,t.enableExperimentalFragmentVariables=ne.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=ne.disableExperimentalFragmentVariables})(Z||(Z={})),Z.default=Z;var qt=Z;class Gt extends fe{constructor(n,l,r){super(r);J(this,"apolloClient");J(this,"resource");this.apolloClient=n,this.resource=l}getData(n,l,r,a,s){return new Promise((f,c)=>{const m=this.getQuery(n,l,a,s),h={offset:l*n,limit:l},C=qt`${m}`;this.apolloClient.query({fetchPolicy:"no-cache",query:C,variables:h}).then(y=>{if(!y.loading){if(y.error){const g={name:"graphql query from vue-ui-grid",query:m,error:y.error,message:y.error};return c(g)}const B=y.data;if(B&&B[this.resource]){let g=B[this.resource].length;this.options.graphqlDataCounter&&this.options.resourceMeta&&(g=this.options.graphqlDataCounter(B[this.options.resourceMeta]));const d={query:m,items:B[this.resource],total:g};f(d)}}})})}getGraphColumn(){const n=this.options.columns.filter(f=>!["custom","query"].includes(f.type)),l=n.filter(f=>!f.field.match(/\./)),r=n.filter(f=>f.field.match(/\./)),a=l.filter(f=>!f.field.match(/\./)).map(f=>f.field).join(`
`),s=this.getRefQuery(r);return`
    ${a}
    ${s}
    `}getSearchQuery(n){let l=[];if(n){const r=F({},n),a=Object.keys(r).filter(h=>!h.match(/\./)),s=Object.keys(r).filter(h=>h.match(/\./)),f=a.map(h=>{const C=this.getFilter(h,r[h]);return r[h]?`${C}`:""}).filter(h=>h).join(""),c=s.map(h=>({key:h,value:r[h]})),m=this.getRefFilter(c);l=[f,m]}return l.join(`
`)}getOrderQuery(n){return this.options.graphqlOrder&&n&&n.by?this.options.graphqlOrder(n.by,n.type):""}getQuery(n,l,r,a){const s=this.getOrderQuery(a),f=this.getSearchQuery(r),c=this.getGraphColumn();return`
      query getData($offset: Int!, $limit: Int!) {
        ${this.resource}_aggregate (
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${f}
          }
          ${s}
        ) {
          ${this.options.aggregateQuery}
        }
        ${this.resource} (
          ${this.options.offsetKey}: $offset,
          ${this.options.limitKey}: $limit,
          ${this.options.filterKey}: {
            ${this.options.refFilter}
            ${f}
          }
          ${s}
        ) {
          ${c}
        }
      }
    `}getFilter(n,l){let r=l;typeof l=="string"&&(r=l.replace(/\\/g,"\\\\").replace(/"/g,'\\"'));const a=this.options.columns.find(s=>s.field===n);return this.options.graphqlFilter&&a&&r?this.options.graphqlFilter(a.field,a.field_type,r,a.filter_type):""}getRefQuery(n){const l=n.map(a=>a.field).map(a=>a.split(".")),r={};return l.forEach(a=>{a.reduce((s,f)=>(s[f]||(s[f]={}),s[f]),r)}),this.getRefQueryByNode(r,!0)}getRefQueryByNode(n,l=!1){const r=Object.keys(n);if(r.length){const a=r.map(s=>`
          ${s} ${this.getRefQueryByNode(n[s])}
        `).join(`
`);return l?a:`{ ${a} }`}return""}getRefFilter(n){if(!n||!n.length)return"";const l={};return n.forEach(r=>{const a=this.options.columns.find(c=>c.field===r.key),s=r.key.split("."),f=s.length;s.reduce((c,m,h)=>{let C={};return h===f-1&&(C=r.value,this.options.graphqlFilter&&a&&r.value&&(C=this.options.graphqlFilter(m,a.field_type,r.value,a.filter_type))),c[m]||(c[m]=C),c[m]},l)}),this.getRefFilterByNode(l,!0)}getRefFilterByNode(n,l=!1){if(typeof n=="object"){const r=Object.keys(n);if(r.length){const a=r.map(s=>typeof n[s]=="object"?`
              ${s}: ${this.getRefFilterByNode(n[s])}
            `:this.getRefFilterByNode(n[s])).join(`
`);return l?a:`{ ${a} }`}}return n}}function Ee(t){return{debug:e.inject("$vgrid",{debug:!1}).debug,searchable:t.searchable,orderable:t.orderable,filterable:t.filterable,columnFilterable:t.columnFilterable,columnVisible:t.columnVisible,statusable:t.statusable,pagination:t.pagination,exportable:t.exportable,columns:t.columns}}function Be(t,o,n){const l=e.reactive(F(F({},Ee(t)),o)),r=new tt(t.data,l),a=()=>{r.updateData(t.data),n()};return e.watch(()=>t.data,()=>{a()}),{dataProvider:r,gridOption:l,setDataCollections:a}}function _(t,o){return e.computed({get:()=>t.modelValue,set:n=>{o("update:modelValue",n)}})}const Kt={key:0,class:"vgrid-pagination"},Qt=["onClick","innerHTML"],P=e.defineComponent({name:"Pagination",props:{modelValue:null,limit:{default:10},total:{default:0}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),r=e.computed(()=>n.total%n.limit?Math.floor(n.total/n.limit)+1:n.total/n.limit),a=e.computed(()=>{const f=[-2,-1,0,1,2].map(m=>m+l.value),c=[{label:"&laquo;",page:l.value-1,disable:l.value===0}];for(const m of f)m>=0&&m<r.value&&(m===0?c.push({label:"1",page:0}):m===l.value?c.push({label:m+1,page:m}):c.push({label:m+1,page:m}));return c.push({label:"&raquo;",page:l.value+1,disable:l.value===r.value-1}),r.value>5&&(l.value>2&&c.splice(1,0,{label:"1..",page:0}),l.value<r.value-3&&c.splice(c.length-1,0,{label:`..${r.value}`,page:r.value-1})),c}),s=f=>{l.value=f};return(f,c)=>e.unref(r)>1?(e.openBlock(),e.createElementBlock("nav",Kt,[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(m,h)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({active:m.page===e.unref(l),disabled:m.disable}),key:h},[e.createElementVNode("a",{href:"javascript:;",onClick:C=>s(m.page),innerHTML:m.label},null,8,Qt)],2))),128))])])):e.createCommentVNode("",!0)}});function Ne(t,o){if(!o)return"";const n=t.split("."),l=n.reduce((r,a,s)=>r[a]||(s<n.length-1?{}:null),o);return l||""}function ce(t){const o=e.computed(()=>t.column.format?typeof t.column.format=="function"?t.column.format(t.data):t.column.format.replace(/\{(\w*)\}/g,(l,r)=>Ne(r,t.data)):Ne(t.column.field,t.data)),n=e.computed(()=>{const l=t.column.type||"text",{field:r}=t.column,a=[`vgrid-column-type--${l}`,`vgrid-column-data--${r}`];return t.resize&&t.column.width&&a.push(`vgrid-field--${t.column.width}`),t.column.class&&a.push(t.column.class),a});return{text:o,classes:n}}const Yt=["innerHTML"],Xt=e.defineComponent({name:"Basic",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:l}=ce(o);return(r,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(l)])},[e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,Yt)])],2))}}),Jt=e.defineComponent({name:"DateTime",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:l}=ce(o),r=e.computed(()=>n.value);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(l)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(r)),1)])],2))}}),Ht=e.defineComponent({name:"Timestamp",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:l}=ce(o),r=e.computed(()=>n.value);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(l)])},[e.renderSlot(a.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(r)),1)])],2))}}),Wt=["innerHTML"],Zt=e.defineComponent({name:"Custom",props:{column:null,data:null,resize:{type:Boolean,default:!1}},setup(t){const o=t,{text:n,classes:l}=ce(o);return(r,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-field",e.unref(l)])},[e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("span",{innerHTML:e.unref(n)},null,8,Wt)])],2))}}),U=e.defineComponent({name:"ColumnType",props:{column:null,data:null,resize:{type:Boolean}},setup(t){const o=n=>{let l=Xt;switch(n){case"datetime":l=Jt;break;case"timestamp":l=Ht;break;case"custom":l=Zt;break}return l};return(n,l)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o(t.column.type)),{column:t.column,data:t.data,resize:t.resize},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["column","data","resize"]))}});function ze(t){return{classes:e.computed(()=>{const n=t.column.type||"text",{field:l}=t.column;return[`vgrid-column-type--${n}`,`vgrid-column-data--${l}`]})}}const vt={class:"vgrid-text-input"},en=["value","placeholder"],Ve=e.defineComponent({name:"TextInput",props:{modelValue:{default:""},placeholder:{default:""},clearable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{expose:o,emit:n}){const l=t,r=_(l,n),a=e.ref(null),s=e.ref(!1),f=e.ref(null),c=e.computed(()=>l.clearable&&l.modelValue),m=()=>{r.value=""},h=y=>{s.value=!0,f.value&&clearTimeout(f.value),f.value=setTimeout(()=>{const B=y.target.value;r.value=B,s.value=!1},500)};return o({focus:async()=>{await e.nextTick(()=>{a.value&&a.value.focus()})}}),(y,B)=>(e.openBlock(),e.createElementBlock("div",vt,[e.createElementVNode("input",{class:e.normalizeClass(["vgrid-input",{"vgrid-input--active":e.unref(r)}]),ref_key:"input",ref:a,type:"text",value:e.unref(r),placeholder:t.placeholder,onInput:h},null,42,en),e.unref(c)?(e.openBlock(),e.createElementBlock("a",{key:0,class:"vgrid-input-clear",href:"javascript:;",onClick:m},"\xD7")):e.createCommentVNode("",!0)]))}}),tn=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),{classes:r}=ze(n);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(r)])},[e.createVNode(Ve,{modelValue:e.unref(l),"onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(l)?l.value=f:null)},null,8,["modelValue"])],2))}}),nn=e.createElementVNode("option",{value:""},"Clear selected",-1),on=["value"],ln=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),{classes:r}=ze(n);return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-column-filter",e.unref(r)])},[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input",ref:"input","onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(l)?l.value=f:null)},[nn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,f=>(e.openBlock(),e.createElementBlock("option",{value:f.id+""},e.toDisplayString(f.label),9,on))),256))],512),[[e.vModelSelect,e.unref(l)]])],2))}}),Ce=e.defineComponent({name:"ColumnFilter",props:{column:null},setup(t){const o=n=>{let l=tn;switch(n){case"dropdown":l=ln;break}return l};return(n,l)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o(t.column.filter_type)),{column:t.column},null,8,["column"]))}});function de(t,o,n={}){const l=e.ref(!1),r=()=>({}),a=e.computed(()=>{const h=t.column.type||"text",{field:C}=t.column,y=[`vgrid-column-type--${h}`,`vgrid-column-data--${C}`];return o.value&&y.push("active"),y}),s=e.computed(()=>`Find ${t.column.label}`),f=()=>{document.dispatchEvent(new Event("vgrid-filter-editor")),l.value=!0,n&&n.value&&setTimeout(()=>{n.value.focus()},100)},c=()=>{l.value=!1},m=()=>{l.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",m),document.addEventListener("vgrid-filter-editor",m)}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",m),document.removeEventListener("vgrid-filter-editor",m)}),{isEditor:l,stopClick:r,classes:a,placeholder:s,showEditor:f,onEnter:c}}const rn={class:"vgrid-filter-value"},an={class:"vgrid-label--prefix"},sn={class:"vgrid-filter-editor"},cn={class:"vgrid-filter-label"},dn=e.defineComponent({name:"Basic",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),r=e.ref(),{isEditor:a,stopClick:s,classes:f,placeholder:c,showEditor:m,onEnter:h}=de(n,l,r),C=e.computed(()=>l.value||"Any");return(y,B)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(f)]),onClick:B[2]||(B[2]=e.withModifiers((...g)=>e.unref(s)&&e.unref(s)(...g),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(l)}]),onClick:B[0]||(B[0]=(...g)=>e.unref(m)&&e.unref(m)(...g))},[e.createElementVNode("span",rn,[e.createElementVNode("span",an,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(C)),1)])],2),e.withDirectives(e.createElementVNode("div",sn,[e.createElementVNode("span",cn,e.toDisplayString(t.column.label)+":",1),e.createVNode(Ve,{class:"vgrid-input-sm",ref_key:"input",ref:r,placeholder:e.unref(c),modelValue:e.unref(l),"onUpdate:modelValue":B[1]||(B[1]=g=>e.isRef(l)?l.value=g:null),onEnter:e.unref(h)},null,8,["placeholder","modelValue","onEnter"])],512),[[e.vShow,e.unref(a)]])],2))}}),mn={class:"vgrid-filter-value"},fn={class:"vgrid-label--prefix"},un={class:"vgrid-filter-editor"},pn={class:"vgrid-filter-label"},hn=e.createElementVNode("option",{value:""},"Select a value",-1),gn=["value"],yn=e.defineComponent({name:"Dropdown",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),r=e.ref(null),{isEditor:a,stopClick:s,classes:f,placeholder:c,showEditor:m,onEnter:h}=de(n,l,r),C=e.computed(()=>{if(l.value){const y=n.column.filter_value.find(B=>B.id==l.value);return y?y.label:l.value}return"Any"});return(y,B)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(f)]),onClick:B[2]||(B[2]=e.withModifiers((...g)=>e.unref(s)&&e.unref(s)(...g),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(a),"vgrid-input--active":e.unref(l)}]),onClick:B[0]||(B[0]=(...g)=>e.unref(m)&&e.unref(m)(...g))},[e.createElementVNode("span",mn,[e.createElementVNode("span",fn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(C)),1)])],2),e.withDirectives(e.createElementVNode("div",un,[e.createElementVNode("span",pn,e.toDisplayString(t.column.label)+":",1),e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":B[1]||(B[1]=g=>e.isRef(l)?l.value=g:null)},[hn,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,g=>(e.openBlock(),e.createElementBlock("option",{value:g.id+""},e.toDisplayString(g.label),9,gn))),256))],512),[[e.vModelSelect,e.unref(l)]])],512),[[e.vShow,e.unref(a)]])],2))}});function je(t){const o=t?`${t}`:"vgrid",n=Math.floor(1e5+Math.random()*9e5);return`${o}-${n}`}const kn={class:"vgrid-filter-value"},En={class:"vgrid-label--prefix"},Bn={class:"vgrid-filter-editor"},Nn={class:"vgrid-filter-label"},Vn={class:"form-check"},Cn=["value","id"],bn=["for"],Sn=e.defineComponent({name:"Checkbox",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o);e.computed(()=>je("vgrid-checkbox-"));const{isEditor:r,stopClick:a,classes:s,placeholder:f,showEditor:c,onEnter:m}=de(n,l),h=e.computed(()=>l.value&&l.value.length?n.column.filter_value.filter(y=>l.value.indexOf(y.id.toString())!==-1).map(y=>y.label).join(", "):"Any");return(C,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(s)]),onClick:y[2]||(y[2]=e.withModifiers((...B)=>e.unref(a)&&e.unref(a)(...B),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(r),"vgrid-input--active":e.unref(l)}]),onClick:y[0]||(y[0]=(...B)=>e.unref(c)&&e.unref(c)(...B))},[e.createElementVNode("span",kn,[e.createElementVNode("span",En,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(h)),1)])],2),e.withDirectives(e.createElementVNode("div",Bn,[e.createElementVNode("span",Nn,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,B=>(e.openBlock(),e.createElementBlock("div",Vn,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input","onUpdate:modelValue":y[1]||(y[1]=g=>e.isRef(l)?l.value=g:null),value:B.id+"",id:t.column.field+"-"+B.id,type:"checkbox"},null,8,Cn),[[e.vModelCheckbox,e.unref(l)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+B.id},e.toDisplayString(B.label),9,bn)]))),256))],512),[[e.vShow,e.unref(r)]])],2))}}),$n={class:"vgrid-filter-value"},Tn={class:"vgrid-label--prefix"},Dn={class:"vgrid-filter-editor"},xn={class:"vgrid-filter-label"},Fn={class:"form-check"},On=["name","value","id"],In=["for"],wn=e.defineComponent({name:"Radio",props:{modelValue:null,column:null},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),r=e.ref(null),a=e.computed(()=>je("vgrid-radio-")),{isEditor:s,stopClick:f,classes:c,placeholder:m,showEditor:h,onEnter:C}=de(n,l,r),y=e.computed(()=>{if(l.value){const g=n.column.filter_value.find(d=>d.id==l.value);return g?g.label:l.value}return"Any"}),B=()=>{l.value=""};return(g,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-filter-item",e.unref(c)]),onClick:d[2]||(d[2]=e.withModifiers((...k)=>e.unref(f)&&e.unref(f)(...k),["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(["vgrid-filter-handle",{active:e.unref(s),"vgrid-input--active":e.unref(l)}]),onClick:d[0]||(d[0]=(...k)=>e.unref(h)&&e.unref(h)(...k))},[e.createElementVNode("span",$n,[e.createElementVNode("span",Tn,e.toDisplayString(t.column.label)+":\xA0",1),e.createElementVNode("strong",null,e.toDisplayString(e.unref(y)),1)])],2),e.withDirectives(e.createElementVNode("div",Dn,[e.createElementVNode("span",xn,e.toDisplayString(t.column.label)+":",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.filter_value,k=>(e.openBlock(),e.createElementBlock("div",Fn,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",name:e.unref(a),"onUpdate:modelValue":d[1]||(d[1]=$=>e.isRef(l)?l.value=$:null),value:k.id+"",id:t.column.field+"-"+k.id,type:"radio"},null,8,On),[[e.vModelRadio,e.unref(l)]]),e.createElementVNode("label",{class:"form-check-label",for:t.column.field+"-"+k.id},e.toDisplayString(k.label),9,In)]))),256)),e.createElementVNode("div",{class:"text-center mt-2"},[e.createElementVNode("button",{class:"btn btn-sm",type:"button",onClick:B},"Clear")])],512),[[e.vShow,e.unref(s)]])],2))}}),An={class:"vgrid-filter"},M=e.defineComponent({name:"Filter",props:{modelValue:{default:{}},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const l=_(t,o),r=a=>{let s=dn;switch(a){case"dropdown":s=yn;break;case"checkbox":s=Sn;break;case"radio":s=wn;break}return s};return(a,s)=>(e.openBlock(),e.createElementBlock("div",An,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,f=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:f.id},[f.filter?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r(f.filter_type)),{key:0,column:f,modelValue:e.unref(l)[f.field],"onUpdate:modelValue":c=>e.unref(l)[f.field]=c},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)],64))),128))]))}}),Ln={class:"vgrid-order"},_n={class:"vgrid-select"},Pn=["value"],Rn=e.createElementVNode("span",{class:"vgrid-label--prefix"},"Sort:",-1),z=e.defineComponent({name:"Order",props:{modelValue:{default:{by:"",type:"desc"}},columns:{default:()=>[]},hasSortType:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=e.reactive({by:n.modelValue?n.modelValue.by:"",type:n.modelValue?n.modelValue.type:"desc"}),r=e.computed(()=>n.columns?n.columns.find(f=>f.field===l.by)||{}:null),a=e.computed(()=>n.columns.filter(f=>f.order)),s=()=>{l.type=l.type==="desc"?"asc":"desc",o("update:modelValue",l)};return(f,c)=>(e.openBlock(),e.createElementBlock("div",Ln,[e.createElementVNode("div",_n,[e.withDirectives(e.createElementVNode("select",{class:"vgrid-input","onUpdate:modelValue":c[0]||(c[0]=m=>l.by=m)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),m=>(e.openBlock(),e.createElementBlock("option",{value:m.field},e.toDisplayString(m.label),9,Pn))),256))],512),[[e.vModelSelect,l.by]]),e.createElementVNode("label",null,[Rn,e.createElementVNode("strong",null,e.toDisplayString(e.unref(r).label),1)])]),t.hasSortType?(e.openBlock(),e.createElementBlock("button",{key:0,class:"vgrid-order-type",onClick:s},e.toDisplayString(l.type),1)):e.createCommentVNode("",!0)]))}}),Un={class:"vgrid-size"},Mn=e.createElementVNode("span",null,"Show",-1),zn=["value"],jn=e.createElementVNode("span",null,"entries",-1),j=e.defineComponent({name:"PageSize",props:{modelValue:null,sizes:{default:()=>[5,10,20,50,100]}},emits:["update:modelValue"],setup(t,{emit:o}){const l=_(t,o);return(r,a)=>(e.openBlock(),e.createElementBlock("div",Un,[Mn,e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>e.isRef(l)?l.value=s:null)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.sizes,(s,f)=>(e.openBlock(),e.createElementBlock("option",{value:s,key:f},e.toDisplayString(s),9,zn))),128))],512),[[e.vModelSelect,e.unref(l)]]),jn]))}}),qn=["onClick"],Gn=[e.createElementVNode("span",null,"Columns visibility",-1)],Kn={class:"vgrid-visibility-body"},Qn=["id","value"],Yn=["for"],Xn=["onClick"],Jn=["onClick"],q=e.defineComponent({name:"ColumnsVisibility",props:{modelValue:{default:()=>({})},columns:{default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,l=_(n,o),r=e.ref(!1),a=e.ref([]),s=e.ref([]);e.watch(()=>a.value,()=>{c()});const f=()=>{r.value=!r.value},c=()=>{l.value=B()},m=()=>({}),h=()=>{s.value=[...n.columns],a.value=l.value},C=d=>{if(d<n.columns.length-1){const k=d,$=d+1;s.value.splice($,0,s.value.splice(k,1)[0]),c()}},y=d=>{if(d>0){const k=d,$=d-1;s.value.splice($,0,s.value.splice(k,1)[0]),c()}},B=()=>s.value.filter(d=>a.value.includes(d.field)).map(d=>d.field),g=()=>{r.value=!1};return e.onMounted(()=>{document.body.addEventListener("click",g),h()}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",g)}),(d,k)=>(e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility",onClick:e.withModifiers(m,["stop"])},[e.createElementVNode("button",{class:"vgrid-visibility-button",type:"button",onClick:f},Gn),e.withDirectives(e.createElementVNode("div",Kn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,($,x)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"vgrid-visibility-column",key:$.field},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:"grid-column-"+$.field,"onUpdate:modelValue":k[0]||(k[0]=L=>a.value=L),value:$.field},null,8,Qn),[[e.vModelCheckbox,a.value]]),e.createElementVNode("label",{for:"grid-column-"+$.field},e.toDisplayString(e.unref(A)($.label||$.field)),9,Yn),e.createElementVNode("button",{class:"vgrid-visibility-down",onClick:L=>y(x)},"\xA0",8,Xn),e.createElementVNode("button",{class:"vgrid-visibility-up",onClick:L=>C(x)},"\xA0",8,Jn)])),[[e.vShow,$.type!=="hidden"]])),128))],512),[[e.vShow,r.value]])],8,qn))}}),Hn=["onSubmit"],G=e.defineComponent({name:"Search",props:{modelValue:{default:""},placeholder:{default:"Search"}},emits:["update:modelValue"],setup(t,{emit:o}){const l=_(t,o),r=()=>({});return(a,s)=>(e.openBlock(),e.createElementBlock("form",{class:"vgrid-search",onSubmit:e.withModifiers(r,["prevent"])},[e.createVNode(Ve,{placeholder:t.placeholder,modelValue:e.unref(l),"onUpdate:modelValue":s[0]||(s[0]=f=>e.isRef(l)?l.value=f:null)},null,8,["placeholder","modelValue"])],40,Hn))}}),Wn={class:"vgrid-status"},K=e.defineComponent({name:"Status",props:{limit:{default:10},currentPage:{default:0},total:{default:0},showed:{default:10}},setup(t){const o=t,n=e.computed(()=>{const l=o.limit*o.currentPage,r=l+o.showed;return`Showing ${l+1} to ${r} of ${o.total} entries`});return(l,r)=>(e.openBlock(),e.createElementBlock("div",Wn,e.toDisplayString(e.unref(n)),1))}}),Zn={class:"vgrid-export-button"},Q=e.defineComponent({name:"ExportButton",props:{data:{default:()=>[]},columns:{default:()=>[]},fileName:{default:new Date().toISOString()}},setup(t){const o=t,n=e.computed(()=>o.columns.filter(r=>r.type!=="custom")),l=()=>{const r=n.value.map(m=>m.label).join(","),a=o.data.map(m=>n.value.map(h=>Ne(h.field,m)).map(h=>`"${h}"`).join(",")).join(`
`),s=`data:text/csv;charset=utf-8,${r}
${a}`,f=encodeURI(s),c=document.createElement("a");c.setAttribute("href",f),c.setAttribute("download",`${o.fileName}.csv`),document.body.appendChild(c),c.click()};return(r,a)=>(e.openBlock(),e.createElementBlock("div",Zn,[e.createElementVNode("button",{onClick:l},"Export")]))}}),vn={class:"vgrid-header"},eo={class:"vgrid-body"},to={class:"vgrid-responsive"},no={class:"vgrid-table"},oo=["onClick"],lo={class:"vgrid-field-header-content"},ro={key:0,class:"vgrid-table-filter"},ao={key:1},so=["colspan"],io={key:0},co={key:1},mo={key:0,class:"vgrid-loader"},fo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],uo={class:"vgrid-footer"},po={key:0,class:"vgrid-devbar"},ho={class:"vgrid-col-9"},go={class:"vgrid-col-3 vgrid-align-right"},yo={key:0},qe=e.defineComponent({name:"BasicGrid",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r,setDataCollections:a}=Be(n,{displayType:"grid",dataType:"json"},()=>{x()}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:c,dataState:m,hasRecord:h,columnVisibility:C,isEmptyData:y,visibleCols:B,gridClasses:g,setColumnVisibility:d,gridState:k,isFiltered:$,getData:x,setOrder:L,resetGrid:N}=R(n,o,r,l);return d(),x(),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(g)])},[e.createElementVNode("div",vn,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).where,"onUpdate:modelValue":i[1]||(i[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":i[2]||(i[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":i[3]||(i[3]=E=>e.isRef(C)?C.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(m).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",eo,[e.renderSlot(u.$slots,"body",{entries:e.unref(m).records,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",to,[e.createElementVNode("table",no,[e.renderSlot(u.$slots,"table-head",{cols:e.unref(B)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),E=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",E.headerClasses]),onClick:S=>e.unref(L)(E.field),key:E.id},[e.createElementVNode("div",lo,[e.renderSlot(u.$slots,"column-header-"+E.field,{col:E},()=>[e.createElementVNode("span",null,e.toDisplayString(E.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(E.orderClasses)},null,2)])])],10,oo))),128))])])]),e.renderSlot(u.$slots,"table-body",{entries:e.unref(m).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(s)?(e.openBlock(),e.createElementBlock("tr",ro,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),E=>(e.openBlock(),e.createElementBlock("td",{key:E.field},[E.filter?(e.openBlock(),e.createBlock(Ce,{key:0,column:E,modelValue:e.unref(k).where[E.field],"onUpdate:modelValue":S=>e.unref(k).where[E.field]=S},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(h)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(m).records,(E,S)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(u.$slots,"default",{entry:E,index:S,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),w=>(e.openBlock(),e.createElementBlock("td",{key:w.field},[e.createVNode(U,{column:w,data:E,class:e.normalizeClass(w.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+w.field,{entry:E,index:S})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",ao,[e.createElementVNode("td",{colspan:e.unref(B).length},[e.unref($)?(e.openBlock(),e.createElementBlock("span",co,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",io,e.toDisplayString(t.strEmptyData),1))],8,so)]))])])])])]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",mo,fo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",uo,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":i[4]||(i[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(m).records.length,total:e.unref(m).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":i[5]||(i[5]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(m).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",po,[e.createElementVNode("div",ho,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",go,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",yo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),ko={class:"vgrid-header"},Eo={class:"vgrid-body"},Bo={key:0,class:"vgrid-nodata"},No={key:0},Vo={key:1},Co={class:"vgrid-row"},bo={class:"vgrid-entry-wrapper"},So={key:2,class:"vgrid-loader"},$o=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],To={class:"vgrid-footer"},Do={key:0,class:"vgrid-devbar"},xo={class:"vgrid-col-9"},Fo={class:"vgrid-col-3 vgrid-align-right"},Oo={key:0},Ge=e.defineComponent({name:"BasicCards",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r,setDataCollections:a}=Be(n,{displayType:"cards",dataType:"json"},()=>{x()}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:c,dataState:m,hasRecord:h,columnVisibility:C,isEmptyData:y,visibleCols:B,gridClasses:g,setColumnVisibility:d,gridState:k,isFiltered:$,getData:x,setOrder:L,resetGrid:N}=R(n,o,r,l);return d(),x(),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(g)])},[e.createElementVNode("div",ko,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).where,"onUpdate:modelValue":i[1]||(i[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":i[2]||(i[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":i[3]||(i[3]=E=>e.isRef(C)?C.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(m).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",Eo,[e.unref(h)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Bo,[e.unref($)?(e.openBlock(),e.createElementBlock("span",Vo,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",No,e.toDisplayString(t.strEmptyData),1))])),e.unref(y)?e.createCommentVNode("",!0):e.renderSlot(u.$slots,"body",{key:1,entries:e.unref(m).records,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",Co,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m).records,(E,S)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(c)])},[e.renderSlot(u.$slots,"default",{entry:E,index:S,visibleCols:e.unref(B)},()=>[e.createElementVNode("div",bo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),w=>(e.openBlock(),e.createBlock(U,{column:w,data:E,key:w.id,resize:!0,class:e.normalizeClass(w.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+w.field,{entry:E,index:S})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",So,$o)):e.createCommentVNode("",!0)]),e.createElementVNode("div",To,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":i[4]||(i[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(m).records.length,total:e.unref(m).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":i[5]||(i[5]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(m).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Do,[e.createElementVNode("div",xo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",Fo,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",Oo,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Io={class:"vgrid-header"},wo={class:"vgrid-body"},Ao={key:0,class:"vgrid-nodata"},Lo={key:0},_o={key:1},Po={class:"vgrid-entry-wrapper"},Ro={key:2,class:"vgrid-loader"},Uo=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Mo={class:"vgrid-footer"},zo={key:0,class:"vgrid-devbar"},jo={class:"vgrid-col-9"},qo={class:"vgrid-col-3 vgrid-align-right"},Go={key:0},Ke=e.defineComponent({name:"BasicList",props:{data:{default:()=>[]},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r,setDataCollections:a}=Be(n,{displayType:"list",dataType:"json"},()=>{x()}),{hasColumnFilter:s,hasColumnOrder:f,cardColumnClasses:c,dataState:m,hasRecord:h,columnVisibility:C,isEmptyData:y,visibleCols:B,gridClasses:g,setColumnVisibility:d,gridState:k,isFiltered:$,getData:x,setOrder:L,resetGrid:N}=R(n,o,r,l);return d(),x(),(u,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(g)])},[e.createElementVNode("div",Io,[e.renderSlot(u.$slots,"header",{},()=>[e.renderSlot(u.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(k).searchKeyword,"onUpdate:modelValue":i[0]||(i[0]=E=>e.unref(k).searchKeyword=E),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(s)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(k).where,"onUpdate:modelValue":i[1]||(i[1]=E=>e.unref(k).where=E),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(f)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(k).order,"onUpdate:modelValue":i[2]||(i[2]=E=>e.unref(k).order=E),"has-sort-type":e.unref(k).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(C),"onUpdate:modelValue":i[3]||(i[3]=E=>e.isRef(C)?C.value=E:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(B),data:e.unref(m).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"header-end")])]),e.createElementVNode("div",wo,[e.unref(h)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ao,[e.unref($)?(e.openBlock(),e.createElementBlock("span",_o,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Lo,e.toDisplayString(t.strEmptyData),1))])),e.unref(y)?e.createCommentVNode("",!0):e.renderSlot(u.$slots,"body",{key:1,entries:e.unref(m).records,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m).records,(E,S)=>(e.openBlock(),e.createElementBlock("div",Po,[e.renderSlot(u.$slots,"default",{entry:E,index:S,visibleCols:e.unref(B)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),w=>(e.openBlock(),e.createBlock(U,{column:w,data:E,key:w.id,resize:!0,class:e.normalizeClass(w.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"column-"+w.field,{entry:E,index:S})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("div",Ro,Uo)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Mo,[e.renderSlot(u.$slots,"footer",{},()=>[e.renderSlot(u.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(k).limit,"onUpdate:modelValue":i[4]||(i[4]=E=>e.unref(k).limit=E),sizes:e.unref(k).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(k).limit,"current-page":e.unref(k).currentPage,showed:e.unref(m).records.length,total:e.unref(m).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(k).currentPage,"onUpdate:modelValue":i[5]||(i[5]=E=>e.unref(k).currentPage=E),limit:e.unref(k).limit,total:e.unref(m).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",zo,[e.createElementVNode("div",jo,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(k).query),1)]),e.createElementVNode("div",qo,[e.unref(k).isLoading?(e.openBlock(),e.createElementBlock("span",Go,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});function be(t,o){const n=e.inject("$vgrid",{pageKey:"page",hasSortType:!0,sortKey:"sort",sortTypeKey:"sort_type",perPageKey:"limit",fetchData:null,cancelToken:null,getPageIndex:null,extractData:null}),l={resource:t.resource,searchField:t.searchField,pageKey:n.pageKey,perPageKey:n.perPageKey,sortKey:n.sortKey,sortTypeKey:n.sortTypeKey,getPageIndex:n.getPageIndex,extractData:n.extractData,fetchData:n.fetchData,cancelToken:n.cancelToken},r=e.reactive(F(F(F({},Ee(t)),l),o));return{dataProvider:new nt(t.resource,r),gridOption:r}}const Ko={class:"vgrid-header"},Qo={class:"vgrid-body"},Yo={class:"vgrid-responsive"},Xo={class:"vgrid-table"},Jo=["onClick"],Ho={class:"vgrid-field-header-content"},Wo={key:0,class:"vgrid-table-filter"},Zo={key:1},vo=["colspan"],el={key:0},tl={key:1},nl={key:0,class:"vgrid-loader"},ol=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],ll={class:"vgrid-footer"},rl={key:0,class:"vgrid-devbar"},al={class:"vgrid-col-9"},sl={class:"vgrid-col-3 vgrid-align-right"},il={key:0},Qe=e.defineComponent({name:"AjaxGrid",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=be(n,{displayType:"grid",dataType:"ajax"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Ko,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Qo,[e.renderSlot(N.$slots,"body",{entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Yo,[e.createElementVNode("table",Xo,[e.renderSlot(N.$slots,"table-head",{cols:e.unref(y)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),i=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",i.headerClasses]),onClick:E=>e.unref(x)(i.field),key:i.id},[e.createElementVNode("div",Ho,[e.renderSlot(N.$slots,"column-header-"+i.field,{col:i},()=>[e.createElementVNode("span",null,e.toDisplayString(i.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(i.orderClasses)},null,2)])])],10,Jo))),128))])])]),e.renderSlot(N.$slots,"table-body",{entries:e.unref(c).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(a)?(e.openBlock(),e.createElementBlock("tr",Wo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),i=>(e.openBlock(),e.createElementBlock("td",{key:i.field},[i.filter?(e.openBlock(),e.createBlock(Ce,{key:0,column:i,modelValue:e.unref(d).where[i.field],"onUpdate:modelValue":E=>e.unref(d).where[i.field]=E},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(m)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createElementBlock("td",{key:S.field},[e.createVNode(U,{column:S,data:i,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",Zo,[e.createElementVNode("td",{colspan:e.unref(y).length},[e.unref(k)?(e.openBlock(),e.createElementBlock("span",tl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",el,e.toDisplayString(t.strEmptyData),1))],8,vo)]))])])])])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",nl,ol)):e.createCommentVNode("",!0)]),e.createElementVNode("div",ll,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",rl,[e.createElementVNode("div",al,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",sl,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",il,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),cl={class:"vgrid-header"},dl={class:"vgrid-body"},ml={key:0,class:"vgrid-nodata"},fl={key:0},ul={key:1},pl={class:"vgrid-entry-wrapper"},hl={key:2,class:"vgrid-loader"},gl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],yl={class:"vgrid-footer"},kl={key:0,class:"vgrid-devbar"},El={class:"vgrid-col-9"},Bl={class:"vgrid-col-3 vgrid-align-right"},Nl={key:0},Ye=e.defineComponent({name:"AjaxList",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=be(n,{displayType:"list",dataType:"ajax"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",cl,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",dl,[e.unref(m)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ml,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",ul,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",fl,e.toDisplayString(t.strEmptyData),1))])),e.unref(C)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("div",pl,[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createBlock(U,{column:S,data:i,key:S.id,resize:!0,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",hl,gl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",yl,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",kl,[e.createElementVNode("div",El,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Bl,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Nl,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),Vl={class:"vgrid-header"},Cl={class:"vgrid-body"},bl={key:0,class:"vgrid-nodata"},Sl={key:0},$l={key:1},Tl={class:"vgrid-row"},Dl={class:"vgrid-entry-wrapper"},xl={key:2,class:"vgrid-loader"},Fl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Ol={class:"vgrid-footer"},Il={key:0,class:"vgrid-devbar"},wl={class:"vgrid-col-9"},Al={class:"vgrid-col-3 vgrid-align-right"},Ll={key:0},Xe=e.defineComponent({name:"AjaxCards",props:{resource:{default:""},searchField:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=be(n,{displayType:"cards",dataType:"ajax"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Vl,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).searchKeyword,"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).searchKeyword=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Cl,[e.unref(m)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",bl,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",$l,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Sl,e.toDisplayString(t.strEmptyData),1))])),e.unref(C)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Tl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(f)])},[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Dl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createBlock(U,{column:S,data:i,key:S.id,resize:!0,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",xl,Fl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Ol,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Il,[e.createElementVNode("div",wl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",Al,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Ll,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});var _l=Symbol("default-apollo-client");function Se(t,o){const n=e.inject("$vgrid",{filterKey:"where",limitKey:"limit",offsetKey:"offset",aggregateQuery:"aggregate { count }",graphqlFilter:null,graphqlOrder:null,graphqlDataCounter:null}),l=e.inject(_l),r={resource:t.resource,resourceMeta:t.resourceMeta,searchField:t.searchField,refFilter:t.refFilter,offsetKey:n.offsetKey,limitKey:n.limitKey,filterKey:n.filterKey,aggregateQuery:n.aggregateQuery,graphqlFilter:n.graphqlFilter,graphqlOrder:n.graphqlOrder,graphqlDataCounter:n.graphqlDataCounter},a=e.reactive(F(F(F({},Ee(t)),r),o)),s=new Gt(l,t.resource,a);return e.watch(()=>t.refFilter,()=>{}),{dataProvider:s,gridOption:a}}const Pl={class:"vgrid-header"},Rl={class:"vgrid-body"},Ul={class:"vgrid-responsive"},Ml={class:"vgrid-table"},zl=["onClick"],jl={class:"vgrid-field-header-content"},ql={key:0,class:"vgrid-table-filter"},Gl={key:1},Kl=["colspan"],Ql={key:0},Yl={key:1},Xl={key:0,class:"vgrid-loader"},Jl=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Hl={class:"vgrid-footer"},Wl={key:0,class:"vgrid-devbar"},Zl={class:"vgrid-col-9"},vl={class:"vgrid-col-3 vgrid-align-right"},er={key:0},Je=e.defineComponent({name:"GraphGrid",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=Se(n,{displayType:"grid",dataType:"graph"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",Pl,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",Rl,[e.renderSlot(N.$slots,"body",{entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Ul,[e.createElementVNode("table",Ml,[e.renderSlot(N.$slots,"table-head",{cols:e.unref(y)},()=>[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),i=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(["vgrid-field-header",i.headerClasses]),onClick:E=>e.unref(x)(i.field),key:i.id},[e.createElementVNode("div",jl,[e.renderSlot(N.$slots,"column-header-"+i.field,{col:i},()=>[e.createElementVNode("span",null,e.toDisplayString(i.showedLabel),1),e.createElementVNode("b",{class:e.normalizeClass(i.orderClasses)},null,2)])])],10,zl))),128))])])]),e.renderSlot(N.$slots,"table-body",{entries:e.unref(c).records},()=>[e.createElementVNode("tbody",null,[t.columnFilterable&&e.unref(a)?(e.openBlock(),e.createElementBlock("tr",ql,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),i=>(e.openBlock(),e.createElementBlock("td",{key:i.field},[i.filter?(e.openBlock(),e.createBlock(Ce,{key:0,column:i,modelValue:e.unref(d).where[i.field],"onUpdate:modelValue":E=>e.unref(d).where[i.field]=E},null,8,["column","modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.unref(m)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("tr",null,[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createElementBlock("td",{key:S.field},[e.createVNode(U,{column:S,data:i,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"])]))),128))])]))),256)):(e.openBlock(),e.createElementBlock("tr",Gl,[e.createElementVNode("td",{colspan:e.unref(y).length},[e.unref(k)?(e.openBlock(),e.createElementBlock("span",Yl,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",Ql,e.toDisplayString(t.strEmptyData),1))],8,Kl)]))])])])])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",Xl,Jl)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Hl,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",Wl,[e.createElementVNode("div",Zl,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",vl,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",er,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),tr={class:"vgrid-header"},nr={class:"vgrid-body"},or={key:0,class:"vgrid-nodata"},lr={key:0},rr={key:1},ar={class:"vgrid-entry-wrapper"},sr={key:2,class:"vgrid-loader"},ir=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],cr={class:"vgrid-footer"},dr={key:0,class:"vgrid-devbar"},mr={class:"vgrid-col-9"},fr={class:"vgrid-col-3 vgrid-align-right"},ur={key:0},He=e.defineComponent({name:"GraphList",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=Se(n,{displayType:"list",dataType:"graph"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",tr,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",nr,[e.unref(m)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",or,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",rr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",lr,e.toDisplayString(t.strEmptyData),1))])),e.unref(C)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("div",ar,[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createBlock(U,{column:S,data:i,key:S.id,resize:!0,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"]))),128))])]))),256))]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",sr,ir)):e.createCommentVNode("",!0)]),e.createElementVNode("div",cr,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",dr,[e.createElementVNode("div",mr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",fr,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",ur,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}}),pr={class:"vgrid-header"},hr={class:"vgrid-body"},gr={key:0,class:"vgrid-nodata"},yr={key:0},kr={key:1},Er={class:"vgrid-row"},Br={class:"vgrid-entry-wrapper"},Nr={key:2,class:"vgrid-loader"},Vr=[e.createElementVNode("span",{class:"vgrid-sr-only"},"Loading..",-1)],Cr={class:"vgrid-footer"},br={key:0,class:"vgrid-devbar"},Sr={class:"vgrid-col-9"},$r={class:"vgrid-col-3 vgrid-align-right"},Tr={key:0},We=e.defineComponent({name:"GraphCards",props:{resource:null,resourceMeta:null,searchField:null,refFilter:{default:""},columns:{default:()=>[]},perPage:null,filterable:{type:Boolean,default:!0},columnFilterable:{type:Boolean,default:!1},columnVisible:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},searchPlaceholder:null,orderable:{type:Boolean,default:!1},sortBy:null,sortType:{default:"desc"},statusable:{type:Boolean,default:!0},pagable:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},strEmptyFilteredData:{default:"No data matched"},strEmptyData:{default:"Empty data"},exportable:{type:Boolean,default:!1},exportFileName:null,colMd:{default:6},colLg:{default:4},colXl:{default:3},routeState:{type:Boolean,default:!1}},emits:["data-changed"],setup(t,{emit:o}){const n=t,{gridOption:l,dataProvider:r}=Se(n,{displayType:"cards",dataType:"graph"}),{hasColumnFilter:a,hasColumnOrder:s,cardColumnClasses:f,dataState:c,hasRecord:m,columnVisibility:h,isEmptyData:C,visibleCols:y,gridClasses:B,setColumnVisibility:g,gridState:d,isFiltered:k,getData:$,setOrder:x,resetGrid:L}=R(n,o,r,l);return g(),$(),(N,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid",e.unref(B)])},[e.createElementVNode("div",pr,[e.renderSlot(N.$slots,"header",{},()=>[e.renderSlot(N.$slots,"header-start"),t.searchable?(e.openBlock(),e.createBlock(G,{key:0,modelValue:e.unref(d).where[t.searchField],"onUpdate:modelValue":u[0]||(u[0]=i=>e.unref(d).where[t.searchField]=i),placeholder:t.searchPlaceholder},null,8,["modelValue","placeholder"])):e.createCommentVNode("",!0),t.filterable&&e.unref(a)?(e.openBlock(),e.createBlock(M,{key:1,modelValue:e.unref(d).where,"onUpdate:modelValue":u[1]||(u[1]=i=>e.unref(d).where=i),columns:t.columns},null,8,["modelValue","columns"])):e.createCommentVNode("",!0),t.orderable&&e.unref(s)?(e.openBlock(),e.createBlock(z,{key:2,class:"vgrid-ml-auto",modelValue:e.unref(d).order,"onUpdate:modelValue":u[2]||(u[2]=i=>e.unref(d).order=i),"has-sort-type":e.unref(d).hasSortType,columns:t.columns},null,8,["modelValue","has-sort-type","columns"])):e.createCommentVNode("",!0),t.columnVisible?(e.openBlock(),e.createBlock(q,{key:3,class:"vgrid-ml-auto",columns:t.columns,modelValue:e.unref(h),"onUpdate:modelValue":u[3]||(u[3]=i=>e.isRef(h)?h.value=i:null)},null,8,["columns","modelValue"])):e.createCommentVNode("",!0),t.exportable?(e.openBlock(),e.createBlock(Q,{key:4,class:"vgrid-ml-auto",columns:e.unref(y),data:e.unref(c).records,"file-name":t.exportFileName?t.exportFileName:""},null,8,["columns","data","file-name"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"header-end")])]),e.createElementVNode("div",hr,[e.unref(m)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",gr,[e.unref(k)?(e.openBlock(),e.createElementBlock("span",kr,e.toDisplayString(t.strEmptyFilteredData),1)):(e.openBlock(),e.createElementBlock("span",yr,e.toDisplayString(t.strEmptyData),1))])),e.unref(C)?e.createCommentVNode("",!0):e.renderSlot(N.$slots,"body",{key:1,entries:e.unref(c).records,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Er,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).records,(i,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vgrid-col",e.unref(f)])},[e.renderSlot(N.$slots,"default",{entry:i,index:E,visibleCols:e.unref(y)},()=>[e.createElementVNode("div",Br,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),S=>(e.openBlock(),e.createBlock(U,{column:S,data:i,key:S.id,resize:!0,class:e.normalizeClass(S.columnClasses)},{default:e.withCtx(()=>[e.renderSlot(N.$slots,"column-"+S.field,{entry:i,index:E})]),_:2},1032,["column","data","class"]))),128))])])],2))),256))])]),e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("div",Nr,Vr)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Cr,[e.renderSlot(N.$slots,"footer",{},()=>[e.renderSlot(N.$slots,"footer-start"),t.pagable?(e.openBlock(),e.createBlock(j,{key:0,modelValue:e.unref(d).limit,"onUpdate:modelValue":u[4]||(u[4]=i=>e.unref(d).limit=i),sizes:e.unref(d).pageSizes},null,8,["modelValue","sizes"])):e.createCommentVNode("",!0),t.statusable?(e.openBlock(),e.createBlock(K,{key:1,limit:e.unref(d).limit,"current-page":e.unref(d).currentPage,showed:e.unref(c).records.length,total:e.unref(c).total},null,8,["limit","current-page","showed","total"])):e.createCommentVNode("",!0),t.pagination?(e.openBlock(),e.createBlock(P,{key:2,modelValue:e.unref(d).currentPage,"onUpdate:modelValue":u[5]||(u[5]=i=>e.unref(d).currentPage=i),limit:e.unref(d).limit,total:e.unref(c).total},null,8,["modelValue","limit","total"])):e.createCommentVNode("",!0),e.renderSlot(N.$slots,"footer-end")]),e.unref(l).debug?(e.openBlock(),e.createElementBlock("div",br,[e.createElementVNode("div",Sr,[e.createElementVNode("pre",null,e.toDisplayString(e.unref(d).query),1)]),e.createElementVNode("div",$r,[e.unref(d).isLoading?(e.openBlock(),e.createElementBlock("span",Tr,"Loading..")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])],2))}});var Yr="";const Dr={install(t,o={}){t.component("VGrid",qe),t.component("VList",Ke),t.component("VCards",Ge);const n={debug:o.debug,perPage:o.perPage||10,pageSizes:o.pageSizes||[5,10,20,50,100],routerKey:o.routerKey};let l={},r={};o.ajax&&(t.component("VAjaxGrid",Qe),t.component("VAjaxList",Ye),t.component("VAjaxCards",Xe),r={pageKey:o.pageKey||"page",hasSortType:o.hasSortType||!0,sortKey:o.sortKey||"sort",sortTypeKey:o.sortTypeKey||"sort_type",perPageKey:o.perPageKey||"limit",fetchData:o.fetchData,cancelToken:o.cancelToken,extractData:o.extractData,getPageIndex:o.getPageIndex}),o.graphql&&(t.component("VGraphGrid",Je),t.component("VGraphList",He),t.component("VGraphCards",We),l={filterKey:o.filterKey||"where",limitKey:o.limitKey||"limit",offsetKey:o.offsetKey||"offset",aggregateQuery:o.aggregateQuery||"aggregate { count }",graphqlFilter:o.graphqlFilter,graphqlOrder:o.graphqlOrder,graphqlDataCounter:o.graphqlDataCounter});const a=F(F(F({},n),r),l);t.provide("$vgrid",a)}};T.Pagination=P,T.VAjaxCards=Xe,T.VAjaxGrid=Qe,T.VAjaxList=Ye,T.VCards=Ge,T.VGraphCards=We,T.VGraphGrid=Je,T.VGraphList=He,T.VGrid=qe,T.VList=Ke,T.default=Dr,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
